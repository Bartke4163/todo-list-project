(()=>{const t=document.querySelector("[data-lists]"),e=document.querySelector("[data-new-list-form]"),a=document.querySelector("[data-new-list-input]"),l=document.querySelector("[data-delete-list-button]"),i="task.lists",s="task.selectedListId";let n=JSON.parse(localStorage.getItem(i))||[],d=localStorage.getItem(s);function r(){localStorage.setItem(i,JSON.stringify(n)),localStorage.setItem(s,d),o()}function o(){!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(t),n.forEach((e=>{const a=document.createElement("li");a.dataset.listId=e.id,a.classList.add("list-name"),a.innerText=e.name,e.id===d&&a.classList.add("active-list"),t.appendChild(a)}))}t.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(d=t.target.dataset.listId,r())})),l.addEventListener("click",(t=>{n=n.filter((t=>t.id!==d)),d=null,r()})),e.addEventListener("submit",(t=>{t.preventDefault();const e=a.value;if(null===e||""===e)return;const l=(i=e,{id:Date.now().toString(),name:i,tasks:[]});var i;a.value=null,n.push(l),r()})),o()})();